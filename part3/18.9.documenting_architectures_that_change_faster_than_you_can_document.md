18.9 Documenting Architectures That Change Faster Than You Can Document Them

When your web browser encounters a file type it’s never seen before, odds are
that it will go to the Internet, search for and download the appropriate plug-in to
handle the file, install it, and reconfigure itself to use it. Without even needing to shut down, let alone go through the code-integrate-test development cycle, the
browser is able to change its own architecture by adding a new component.

Service-oriented systems that utilize dynamic service discovery and binding
also exhibit these properties. More challenging systems that are highly dynamic,
self-organizing, and reflective (meaning self-aware) already exist. In these cases,
the identities of the components interacting with each other cannot be pinned
down, let alone their interactions, in any static architecture document.

Another kind of architectural dynamism, equally challenging from a docu-
mentation perspective, is found in systems that are rebuilt and redeployed with
great rapidity. Some development shops, such as those responsible for commer-
cial websites, build and “go live” with their system many times every day.

Whether an architecture changes at runtime, or as a result of a high-frequency
release-and-deploy cycle, the changes occur much faster than the documentation
cycle. In either case, nobody is going to hold up things until a new architecture
document is produced, reviewed, and released.

But knowing the architecture of these systems is every bit as important, and
arguably more so, than for systems in the world of more traditional life cycles.
Here’s what you can do if you’re an architect in a highly dynamic environment:

* _Document what is true about all versions of your system_. Your web brows-
er doesn’t go out and grab just any piece of software when it needs a new
plug-in; a plug-in must have specific properties and a specific interface.
And it doesn’t just plug in anywhere, but in a predetermined location in
the architecture. Record those invariants as you would for any architecture.
This may make your documented architecture more a description of con-
straints or guidelines that any compliant version of the system must follow.
That’s fine.

* _Document the ways the architecture is allowed to change_. In the previous
examples, this will usually mean adding new components and replacing
components with new implementations. In the Views and Beyond approach,
the place to do this is called the variability guide (captured in Section 4 of
our view template).
