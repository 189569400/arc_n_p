18 软件架构文档化 Documenting Software Architecture
===

_If it is not written down, it does not exist._  
_如果不写下来，它就不存在。_   
—Philippe Kruchten 菲利普 克鲁奇顿

Even the best architecture, the most perfectly suited for the job, will be essentially useless if the people who need to use it do not know what it is; cannot understand it well enough to use, build, or modify it; or (worst of all) misunderstand it and apply it incorrectly. And all of the effort, analysis, hard work, and insightful design on the part of the architecture team will have been wasted. They might as well have gone on vacation for all the good their architecture will do.

如果需要使用它的人不知道它是什么，那么即使是最好的、最适合这项工作的架构，在本质上也是无用的；无法很好地理解它，无法使用、构建或修改它；或者（最糟糕的是）误解并错误地应用它。架构团队的所有努力、分析、辛勤工作和富有洞察力的设计都将白费。他们还不如去度假，因为他们的架构会带来很多好处。

Creating an architecture isn’t enough. It has to be communicated in a way to let its stakeholders use it properly to do their jobs. If you go to the trouble of creating a strong architecture, one that you expect to stand the test of time, then you must go to the trouble of describing it in enough detail, without ambiguity, and organizing it so that others can quickly find and update needed information.

仅仅创建一个架构是不够的。它必须以一种方式进行沟通，让其利益相关者正确地使用它来完成他们的工作。如果你费心创建一个强大的架构，一个你希望经得起时间考验的架构，那么你必须费心足够详细地描述它，没有歧义，并组织它，以便其他人能够快速找到和更新所需的信息。

Documentation speaks for the architect. It speaks for the architect today, when the architect should be doing other things besides answering a hundred questions about the architecture. And it speaks for the architect tomorrow, when he or she has left the project and now someone else is in charge of its evolution and maintenance.

文档为架构师说话。今天它为架构师说话，架构师除了回答一大堆关于架构的问题外，还应该做其他事情。明天，当架构师离开这个项目，而现在有新人来负责它的发展和维护时，它还能为架构师说话。

The sad truth is that architectural documentation today, if it is done at all, is often treated as an afterthought, something people do because they have to. Maybe a contract requires it. Maybe a customer demands it. Maybe a company’s standard process calls for it. In fact, these may all be legitimate reasons. But none of them are compelling enough to produce high-quality documentation. Why should the architect spend valuable time and energy just so a manager can check off a deliverable?

可悲的事实是，今天的架构文档，如果真的完成了的话，往往被视为事后诸葛亮，这是人们不得不做的事情。也许合同需要它。也许是顾客要求的。也许公司的标准流程需要它。事实上，这些可能都是合理的理由。但它们都不足以产生高质量的文档。为什么架构师要花费宝贵的时间和精力，让管理者检查可交付成果？

The best architects produce good documentation not because it’s “required” but because they see that it is essential to the matter at hand—producing a high-quality product, predictably and with as little rework as possible. They see their immediate stakeholders as the people most intimately involved in this undertaking: developers, deployers, testers, and analysts.

最好的架构师制作好的文档并不是因为它是“必需的”，而是因为他们看到它对手头的事情至关重要，可以预见地生产出高质量的产品，并且尽可能少地返工。他们将直接的利益相关者视为最密切参与这项工作的人：开发人员、部署人员、测试人员和分析师。

But architects also see documentation as delivering value to themselves. Documentation serves as the receptacle to hold the results of major design decisions as they are confirmed. A well-thought-out documentation scheme can make the process of design go much more smoothly and systematically. Documentation helps the architect(s) reason about the architecture design and communicate it while the architecting is in progress, whether in a six-month design phase or a six-day Agile sprint.

但架构师也将文档视为给自己带来价值。文件是保存重大设计决策结果的容器。一个经过深思熟虑的文档方案可以使设计过程更加顺利和系统化。无论是在六个月的设计阶段还是六天的敏捷冲刺阶段，文档都可以帮助架构师对架构设计进行推理，并在架构设计过程中进行沟通。
