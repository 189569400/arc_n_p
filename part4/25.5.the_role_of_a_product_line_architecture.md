25.5 The Role of a Product Line Architecture 产品线架构的作用
===

Of all of the assets in a core asset repository, the software architecture plays the most central role. There is both a tactical and a strategic reason for this.

TABLE 25.1 The General Scenario for Variability

Portion of Scenario | Possible Values
---|---
Source | Actor requesting variability
Stimulus | Requests to support variations in the following: <br><li>Hardware <br><li>Feature sets <br><li>Technologies <br><li>User interfaces <br><li>Quality attributes . . . and more <br>for the range of products affected, such as: <br><li>All <br><li>A specified subset <br><li>Those that include feature set x <br><li>New products
Environment | Variants are to be created at: <br><li>Runtime <br><li>Build time <br><li>Development time
Artifact | Asset(s) affected, such as: <br><li>Requirements <br><li>Architecture <br><li>Component $x$ <br><li>Test suite $y$ <br><li>Project plan $z$ <br><li>. . . and more
Response | The requested variants can be created.
Response measure | A specified cost and/or time to create the core assets and to create the variants using these core assets

The tactical reason is the importance the architecture plays in building products in a product line. The essence of building a successful software product line is discriminating between what is expected to remain constant across all family members and what is expected to vary. Software architecture is ideal for handling this variation, because all architectures are abstractions that admit multiple instances. By its very nature every architecture is a statement about what we expect to remain constant and what we admit may vary. For example, interfaces to components are designed to remain stable, with anticipated changes hidden behind those interfaces.

In a software product line, the architecture has to encompass both the varying and the nonvarying aspects. A product line architecture must be designed to accommodate a set of explicitly allowed variations. Thus, identifying the allowable variations is part of the architect’s responsibility, as is providing built-in mechanisms for achieving them. Those variations may be substantial. Products in a software product line exist simultaneously and may vary in terms of their behavior, quality attributes, platform, network, physical configuration, middleware, scale factors, and so forth.

The strategic reason has to do with the capability it imparts to an organization outside the realm of an existing product line. As we saw in Chapters 2 and 3, an architecture can serve as a technical platform for launching new applications and even new business models, and it can serve as a springboard for an organization diving into a new business area. This seems to be especially true for product line architectures. There are many cases where an organization has taken advantage of its production capability—that is, its core asset base crowned by a product line architecture—by using that capability to enter new markets. For example, Cummins took its product line of automotive diesel engines to enter and quickly dominate the neighboring market for industrial diesel engines. Industrial diesel engines power things like rock crushers and ski lifts, markets of low volume and high specialization. Systems in that market built uniquely for each application are expensive and don’t yield a high return. But a product line that includes industrial diesel engines in its scope, and whose production capability supports industrial diesel engines, is a recipe for rapid market capture.

A product line architect needs to consider three things that are unique to product line architectures:

* _Identifying variation points_. This is done by using the scope definition and product line requirements as input. The product line architect determines where in the architecture variation points should be made available to support the rapid building of products.
* _Supporting variation points_. This is done by introducing variation mechanisms, which will be discussed in the next section.
* _Evaluating the architecture for product line suitability_, which will be discussed later in this chapter.
